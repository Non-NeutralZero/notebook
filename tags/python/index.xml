<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python on Digital Notebook NonNeutralZero</title><link>https://non-neutralzero.github.io/notebook/tags/python/</link><description>Recent content in Python on Digital Notebook NonNeutralZero</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 20 Nov 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://non-neutralzero.github.io/notebook/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>Jupyter</title><link>https://non-neutralzero.github.io/notebook/posts/jupyter-misc/</link><pubDate>Mon, 20 Nov 2023 00:00:00 +0000</pubDate><guid>https://non-neutralzero.github.io/notebook/posts/jupyter-misc/</guid><description>&lt;h3 id="memory-usage">
 Memory Usage
 &lt;a class="anchor" href="#memory-usage">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#81a1c1;font-weight:bold">def&lt;/span> &lt;span style="color:#88c0d0">memory&lt;/span>&lt;span style="color:#eceff4">():&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#81a1c1;font-weight:bold">with&lt;/span> &lt;span style="color:#81a1c1">open&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;/proc/meminfo&amp;#39;&lt;/span>&lt;span style="color:#eceff4">,&lt;/span> &lt;span style="color:#a3be8c">&amp;#39;r&amp;#39;&lt;/span>&lt;span style="color:#eceff4">)&lt;/span> &lt;span style="color:#81a1c1;font-weight:bold">as&lt;/span> mem&lt;span style="color:#eceff4">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ret &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#eceff4">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tmp &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#b48ead">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#81a1c1;font-weight:bold">for&lt;/span> i &lt;span style="color:#81a1c1;font-weight:bold">in&lt;/span> mem&lt;span style="color:#eceff4">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sline &lt;span style="color:#81a1c1">=&lt;/span> i&lt;span style="color:#81a1c1">.&lt;/span>split&lt;span style="color:#eceff4">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#81a1c1;font-weight:bold">if&lt;/span> &lt;span style="color:#81a1c1">str&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>sline&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#b48ead">0&lt;/span>&lt;span style="color:#eceff4">])&lt;/span> &lt;span style="color:#81a1c1">==&lt;/span> &lt;span style="color:#a3be8c">&amp;#39;MemTotal:&amp;#39;&lt;/span>&lt;span style="color:#eceff4">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ret&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;total&amp;#39;&lt;/span>&lt;span style="color:#eceff4">]&lt;/span> &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#81a1c1">int&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>sline&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#b48ead">1&lt;/span>&lt;span style="color:#eceff4">])&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#81a1c1;font-weight:bold">elif&lt;/span> &lt;span style="color:#81a1c1">str&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>sline&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#b48ead">0&lt;/span>&lt;span style="color:#eceff4">])&lt;/span> &lt;span style="color:#81a1c1;font-weight:bold">in&lt;/span> &lt;span style="color:#eceff4">(&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;MemFree:&amp;#39;&lt;/span>&lt;span style="color:#eceff4">,&lt;/span> &lt;span style="color:#a3be8c">&amp;#39;Buffers:&amp;#39;&lt;/span>&lt;span style="color:#eceff4">,&lt;/span> &lt;span style="color:#a3be8c">&amp;#39;Cached:&amp;#39;&lt;/span>&lt;span style="color:#eceff4">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tmp &lt;span style="color:#81a1c1">+=&lt;/span> &lt;span style="color:#81a1c1">int&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>sline&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#b48ead">1&lt;/span>&lt;span style="color:#eceff4">])&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ret&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;free&amp;#39;&lt;/span>&lt;span style="color:#eceff4">]&lt;/span> &lt;span style="color:#81a1c1">=&lt;/span> tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ret&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;used&amp;#39;&lt;/span>&lt;span style="color:#eceff4">]&lt;/span> &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#81a1c1">int&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>ret&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;total&amp;#39;&lt;/span>&lt;span style="color:#eceff4">])&lt;/span> &lt;span style="color:#81a1c1">-&lt;/span> &lt;span style="color:#81a1c1">int&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>ret&lt;span style="color:#eceff4">[&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;free&amp;#39;&lt;/span>&lt;span style="color:#eceff4">])&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#81a1c1;font-weight:bold">return&lt;/span> ret
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="no-hang-up">
 No Hang Up
 &lt;a class="anchor" href="#no-hang-up">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="display:flex;">&lt;span>nohup jupyter notebook &lt;span style="color:#eceff4">-&lt;/span>-no-browser &lt;span style="color:#eceff4">&amp;gt;&lt;/span> notebook&lt;span style="color:#eceff4">.&lt;/span>&lt;span style="color:#8fbcbb">log&lt;/span> &lt;span style="color:#b48ead">2&lt;/span>&lt;span style="color:#eceff4">&amp;gt;&amp;amp;&lt;/span>&lt;span style="color:#b48ead">1&lt;/span> &lt;span style="color:#eceff4">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="workaround-no-cells-output">
 Workaround: no cells output
 &lt;a class="anchor" href="#workaround-no-cells-output">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>se &lt;span style="color:#81a1c1">=&lt;/span> time&lt;span style="color:#81a1c1">.&lt;/span>time&lt;span style="color:#eceff4">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#81a1c1">print&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>train&lt;span style="color:#81a1c1">.&lt;/span>rdd&lt;span style="color:#81a1c1">.&lt;/span>getNumPartitions&lt;span style="color:#eceff4">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#81a1c1">print&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>test&lt;span style="color:#81a1c1">.&lt;/span>rdd&lt;span style="color:#81a1c1">.&lt;/span>getNumPartitions&lt;span style="color:#eceff4">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>e &lt;span style="color:#81a1c1">=&lt;/span> time&lt;span style="color:#81a1c1">.&lt;/span>time&lt;span style="color:#eceff4">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#81a1c1">print&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>&lt;span style="color:#a3be8c">&amp;#34;Training time = &lt;/span>&lt;span style="color:#a3be8c">{}&lt;/span>&lt;span style="color:#a3be8c">&amp;#34;&lt;/span>&lt;span style="color:#81a1c1">.&lt;/span>format&lt;span style="color:#eceff4">(&lt;/span>e &lt;span style="color:#81a1c1">-&lt;/span> se&lt;span style="color:#eceff4">))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>your_float_variable &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#eceff4">(&lt;/span>e &lt;span style="color:#81a1c1">-&lt;/span> se&lt;span style="color:#eceff4">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>comment &lt;span style="color:#81a1c1">=&lt;/span> &lt;span style="color:#a3be8c">&amp;#34;Training time for getnumpartition:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#616e87;font-style:italic"># Open the file in append mode and write the comment and variable&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#81a1c1;font-weight:bold">with&lt;/span> &lt;span style="color:#81a1c1">open&lt;/span>&lt;span style="color:#eceff4">(&lt;/span>&lt;span style="color:#a3be8c">&amp;#39;output.txt&amp;#39;&lt;/span>&lt;span style="color:#eceff4">,&lt;/span> &lt;span style="color:#a3be8c">&amp;#39;a&amp;#39;&lt;/span>&lt;span style="color:#eceff4">)&lt;/span> &lt;span style="color:#81a1c1;font-weight:bold">as&lt;/span> f&lt;span style="color:#eceff4">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> f&lt;span style="color:#81a1c1">.&lt;/span>write&lt;span style="color:#eceff4">(&lt;/span>&lt;span style="color:#a3be8c">f&lt;/span>&lt;span style="color:#a3be8c">&amp;#34;&lt;/span>&lt;span style="color:#a3be8c">{&lt;/span>comment&lt;span style="color:#a3be8c">}&lt;/span>&lt;span style="color:#a3be8c"> &lt;/span>&lt;span style="color:#a3be8c">{&lt;/span>your_float_variable&lt;span style="color:#a3be8c">}&lt;/span>&lt;span style="color:#ebcb8b">\n&lt;/span>&lt;span style="color:#a3be8c">&amp;#34;&lt;/span>&lt;span style="color:#eceff4">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="related-entries">
 Related Entries
 &lt;a class="anchor" href="#related-entries">#&lt;/a>
&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://non-neutralzero.github.io/docs/posts/dash-jupyterlab/">Run plotly in JupyterLab&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Install python packages offline</title><link>https://non-neutralzero.github.io/notebook/posts/offline_pip/</link><pubDate>Tue, 20 Jun 2023 00:00:00 +0000</pubDate><guid>https://non-neutralzero.github.io/notebook/posts/offline_pip/</guid><description>&lt;p>1- Download packages locally using a requirements file or download a single package&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>pip download -r requirements.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#616e87;font-style:italic">## Example - single package&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>python -m pip download &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>--only-binary&lt;span style="color:#81a1c1">=&lt;/span>:all: &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>--platform manylinux1_x86_64 --platform linux_x86_64 --platform any &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>--python-version &lt;span style="color:#b48ead">39&lt;/span> &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>--implementation cp &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>--abi cp39m --abi cp39 --abi abi3 --abi none &lt;span style="color:#ebcb8b">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ebcb8b">&lt;/span>scipy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>2- Copy them to the a temporary folder in your remote machine
3- On your machine, Activate conda and then install them using pip - specify installation options&lt;/p></description></item></channel></rss>